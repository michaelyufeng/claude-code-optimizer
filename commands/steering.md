---
description: Setup and manage project steering documents for context optimization (60-80% token reduction)
---

# Steering ç³»ç»Ÿ (Token ä¼˜åŒ–)

## åŠŸèƒ½è¯´æ˜

å»ºç«‹é¡¹ç›®å¯¼èˆªæ–‡æ¡£ç³»ç»Ÿï¼Œé€šè¿‡ä¸Šä¸‹æ–‡æ•´åˆå®ç° 60-80% çš„ Token æ¶ˆè€—é™ä½ã€‚

çµæ„Ÿæ¥æºï¼š[claude-code-spec-workflow](https://github.com/Pimzino/claude-code-spec-workflow)

## æ ¸å¿ƒæ¦‚å¿µ

### ä¸ºä»€ä¹ˆéœ€è¦ Steeringï¼Ÿ

```
é—®é¢˜ï¼šæ¯æ¬¡å¯¹è¯éƒ½éœ€è¦é‡å¤æä¾›é¡¹ç›®ä¸Šä¸‹æ–‡
- æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Ÿ
- é¡¹ç›®ç»“æ„å¦‚ä½•ï¼Ÿ
- æœ‰ä»€ä¹ˆçº¦æŸï¼Ÿ

ä¼ ç»Ÿæ–¹å¼ï¼šæ¯æ¬¡éƒ½è¯»å–å¤šä¸ªæ–‡ä»¶ â†’ Token æµªè´¹
Steering æ–¹å¼ï¼šé¢„å…ˆæ•´åˆ â†’ ä¸€æ¬¡åŠ è½½ â†’ 60-80% èŠ‚çœ
```

### Steering æ–‡æ¡£ç»“æ„

```
.claude/steering/
â”œâ”€â”€ product.md      # äº§å“æ„¿æ™¯ã€ç”¨æˆ·ã€åŠŸèƒ½
â”œâ”€â”€ tech.md         # æŠ€æœ¯æ ˆã€å·¥å…·ã€çº¦æŸ
â”œâ”€â”€ structure.md    # æ–‡ä»¶ç»„ç»‡ã€å‘½åè§„èŒƒ
â””â”€â”€ context.md      # åˆå¹¶åçš„ä¸Šä¸‹æ–‡ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
```

---

## åˆå§‹åŒ– Steering

### å‘½ä»¤

```
/project-optimizer:steering --setup
```

### äº¤äº’æµç¨‹

```
ğŸ“‹ Steering ç³»ç»Ÿåˆå§‹åŒ–

æˆ‘å°†åˆ†æä½ çš„é¡¹ç›®å¹¶å¸®ä½ åˆ›å»ºå¯¼èˆªæ–‡æ¡£ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

## Step 1: äº§å“æ–‡æ¡£ (product.md)

è¯·æè¿°ä½ çš„é¡¹ç›®ï¼š

1. äº§å“æ„¿æ™¯æ˜¯ä»€ä¹ˆï¼Ÿ
   > _______________________

2. ç›®æ ‡ç”¨æˆ·æ˜¯è°ï¼Ÿ
   > _______________________

3. æ ¸å¿ƒåŠŸèƒ½æœ‰å“ªäº›ï¼Ÿ
   > _______________________

4. æˆåŠŸæŒ‡æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ
   > _______________________
```

---

## Steering æ–‡æ¡£æ¨¡æ¿

### product.md

```markdown
# äº§å“å¯¼èˆª

## æ„¿æ™¯
[ä¸€å¥è¯æè¿°äº§å“ç›®æ ‡]

## ç›®æ ‡ç”¨æˆ·
- ä¸»è¦ç”¨æˆ·ï¼š[æè¿°]
- æ¬¡è¦ç”¨æˆ·ï¼š[æè¿°]

## æ ¸å¿ƒä»·å€¼
1. [ä»·å€¼1]
2. [ä»·å€¼2]
3. [ä»·å€¼3]

## åŠŸèƒ½èŒƒå›´

### MVP åŠŸèƒ½
- [ ] [åŠŸèƒ½1]
- [ ] [åŠŸèƒ½2]

### åç»­åŠŸèƒ½
- [ ] [åŠŸèƒ½3]
- [ ] [åŠŸèƒ½4]

## æˆåŠŸæŒ‡æ ‡
- [æŒ‡æ ‡1]: [ç›®æ ‡å€¼]
- [æŒ‡æ ‡2]: [ç›®æ ‡å€¼]

## éç›®æ ‡
- [æ˜ç¡®ä¸åšçš„äº‹æƒ…]
```

### tech.md

```markdown
# æŠ€æœ¯å¯¼èˆª

## æŠ€æœ¯æ ˆ
- è¯­è¨€: [TypeScript/Python/etc]
- æ¡†æ¶: [Next.js/Hono/etc]
- æ•°æ®åº“: [PostgreSQL/SQLite/etc]
- éƒ¨ç½²: [Vercel/AWS/etc]

## å…³é”®ä¾èµ–
| ä¾èµ– | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| [dep1] | [ver] | [ç”¨é€”] |

## æŠ€æœ¯çº¦æŸ
- [çº¦æŸ1]
- [çº¦æŸ2]

## é›†æˆæœåŠ¡
- [æœåŠ¡1]: [ç”¨é€”]
- [æœåŠ¡2]: [ç”¨é€”]

## å¼€å‘è§„èŒƒ
- ä»£ç é£æ ¼: [ESLint/Prettier é…ç½®]
- æäº¤è§„èŒƒ: [Conventional Commits]
- åˆ†æ”¯ç­–ç•¥: [Git Flow/Trunk]
```

### structure.md

```markdown
# ç»“æ„å¯¼èˆª

## ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ app/           # é¡µé¢å’Œè·¯ç”±
â”œâ”€â”€ components/    # UI ç»„ä»¶
â”œâ”€â”€ lib/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ services/      # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ types/         # ç±»å‹å®šä¹‰
â””â”€â”€ styles/        # æ ·å¼æ–‡ä»¶
```

## å‘½åè§„èŒƒ
- æ–‡ä»¶: kebab-case (user-profile.tsx)
- ç»„ä»¶: PascalCase (UserProfile)
- å‡½æ•°: camelCase (getUserProfile)
- å¸¸é‡: UPPER_SNAKE_CASE (MAX_RETRIES)

## å¯¼å…¥è§„åˆ™
```typescript
// 1. å¤–éƒ¨ä¾èµ–
import { ... } from 'react'

// 2. å†…éƒ¨æ¨¡å— (è·¯å¾„åˆ«å)
import { ... } from '@/lib/utils'

// 3. ç›¸å¯¹å¯¼å…¥
import { ... } from './components'
```

## æ¨¡å¼è§„èŒƒ
- ç»„ä»¶: å‡½æ•°å¼ç»„ä»¶ + Hooks
- çŠ¶æ€: [Zustand/Context/Redux]
- è¯·æ±‚: [SWR/React Query/fetch]
```

---

## ä¸Šä¸‹æ–‡æ•´åˆ

### è·å–åˆå¹¶ä¸Šä¸‹æ–‡

```
/project-optimizer:steering --context
```

è‡ªåŠ¨åˆå¹¶æ‰€æœ‰ steering æ–‡æ¡£ï¼Œç”Ÿæˆä¼˜åŒ–åçš„ä¸Šä¸‹æ–‡ï¼š

```markdown
# é¡¹ç›®ä¸Šä¸‹æ–‡ (è‡ªåŠ¨ç”Ÿæˆ)

> ç”Ÿæˆæ—¶é—´: [timestamp]
> Token é¢„ä¼°: ~2000 (èŠ‚çœ ~65%)

## äº§å“æ¦‚è¦
[ä» product.md æå–]

## æŠ€æœ¯æ¦‚è¦
[ä» tech.md æå–]

## ç»“æ„æ¦‚è¦
[ä» structure.md æå–]

## å¿«é€Ÿå‚è€ƒ
[å…³é”®ä¿¡æ¯ç´¢å¼•]
```

### Token ä¼˜åŒ–å¯¹æ¯”

```
ä¼ ç»Ÿæ–¹å¼ï¼š
â”œâ”€â”€ è¯»å– README.md: ~500 tokens
â”œâ”€â”€ è¯»å– package.json: ~200 tokens
â”œâ”€â”€ è¯»å– tsconfig.json: ~150 tokens
â”œâ”€â”€ è¯»å– src/ ç»“æ„: ~300 tokens
â”œâ”€â”€ æ¯æ¬¡é‡å¤: ~1150 tokens
â””â”€â”€ 10 æ¬¡å¯¹è¯: ~11500 tokens âŒ

Steering æ–¹å¼ï¼š
â”œâ”€â”€ é¦–æ¬¡ç”Ÿæˆ context.md: ~800 tokens
â”œâ”€â”€ åç»­å¤ç”¨: ~800 tokens
â”œâ”€â”€ 10 æ¬¡å¯¹è¯: ~800 tokens âœ…
â””â”€â”€ èŠ‚çœ: ~93% ğŸ‰
```

---

## è‡ªåŠ¨æ›´æ–°

### è§¦å‘æ¡ä»¶

```markdown
Steering æ–‡æ¡£åœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨æ›´æ–°ï¼š

1. **é˜¶æ®µå®Œæˆæ—¶**
   - ç ”ç©¶é˜¶æ®µå®Œæˆ â†’ æ›´æ–° tech.md
   - è§„åˆ’é˜¶æ®µå®Œæˆ â†’ æ›´æ–° product.md
   - æ¶æ„é˜¶æ®µå®Œæˆ â†’ æ›´æ–° structure.md

2. **å…³é”®å†³ç­–æ—¶**
   - æŠ€æœ¯é€‰å‹ç¡®å®š â†’ æ›´æ–° tech.md
   - æ¶æ„æ¨¡å¼ç¡®å®š â†’ æ›´æ–° structure.md

3. **æ‰‹åŠ¨è§¦å‘**
   - /project-optimizer:steering --update
```

### åŒæ­¥æ£€æŸ¥

```
/project-optimizer:steering --sync

ğŸ“Š Steering åŒæ­¥æ£€æŸ¥

| æ–‡æ¡£ | çŠ¶æ€ | æœ€åæ›´æ–° | éœ€è¦æ›´æ–° |
|------|------|----------|----------|
| product.md | âœ… åŒæ­¥ | 2h ago | å¦ |
| tech.md | âš ï¸ è¿‡æ—¶ | 2d ago | æ˜¯ |
| structure.md | âœ… åŒæ­¥ | 4h ago | å¦ |

æ£€æµ‹åˆ°å˜åŒ–ï¼š
- æ–°å¢ä¾èµ–: drizzle-orm
- æ–°å¢ç›®å½•: src/db/

æ˜¯å¦æ›´æ–°ï¼Ÿ [Y/n]
```

---

## å‘½ä»¤æ±‡æ€»

```bash
/project-optimizer:steering --setup      # åˆå§‹åŒ– steering ç³»ç»Ÿ
/project-optimizer:steering --context    # è·å–åˆå¹¶ä¸Šä¸‹æ–‡
/project-optimizer:steering --update     # æ›´æ–°æ‰€æœ‰æ–‡æ¡£
/project-optimizer:steering --sync       # æ£€æŸ¥åŒæ­¥çŠ¶æ€
/project-optimizer:steering --show       # æ˜¾ç¤ºå½“å‰ steering å†…å®¹
```

---

## ä¸å…¶ä»–ç³»ç»Ÿé›†æˆ

### ä¸è®°å¿†ç³»ç»Ÿé›†æˆ

```json
// .claude/PROJECT_MEMORY/state.json
{
  "steering": {
    "enabled": true,
    "lastUpdated": "[timestamp]",
    "contextTokens": 800,
    "savings": "65%"
  }
}
```

### ä¸è§„åˆ™ç³»ç»Ÿé›†æˆ

```markdown
## tech.md ä¸­çš„è§„åˆ™è‡ªåŠ¨æå–

æŠ€æœ¯çº¦æŸä¼šè‡ªåŠ¨è½¬æ¢ä¸ºè§„åˆ™ï¼š

tech.md:
> å¿…é¡»ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼

â†’ è‡ªåŠ¨åˆ›å»ºè§„åˆ™:
{
  "id": "ts-strict",
  "level": "MUST",
  "value": "TypeScript strict mode"
}
```
