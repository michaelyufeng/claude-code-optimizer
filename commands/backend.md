---
description: Backend phase - implement real APIs and database
---

# åç«¯é˜¶æ®µ (Phase 7/9)

## å‰ç½®æ£€æŸ¥

è¯»å– `.claude/PROJECT_STATE.json` ç¡®è®¤ï¼š
1. Gate 2 å·²é€šè¿‡
2. å½“å‰é˜¶æ®µä¸º `backend`

## åç«¯é˜¶æ®µé…ç½®

```
âš™ï¸ åç«¯é˜¶æ®µ CLAUDE.md é…ç½®

## æ ¸å¿ƒåŸåˆ™
- å‚ç…§æ¶æ„è®¾è®¡æ–‡æ¡£å®ç°
- API å¿…é¡»ç¬¦åˆ API.md è§„èŒƒ
- æ•°æ®åº“ç»“æ„æŒ‰ DATABASE.md è®¾è®¡
- ä»£ç è´¨é‡ä¼˜å…ˆ

## æ¨¡å‹åˆ†é…ç­–ç•¥
### Haiku ($) - ç®€å•ä»»åŠ¡
- æ—¥å¿—åˆ†æ
- ç®€å• CRUD
- æ ¼å¼è½¬æ¢

### Sonnet ($$) - å¤æ‚ä»»åŠ¡
- API å®ç°
- æµ‹è¯•ç¼–å†™
- ä»£ç å®¡æŸ¥

### Opus ($$$) - å…³é”®ä»»åŠ¡
- æ¶æ„å†³ç­–
- å¤æ‚ä¸šåŠ¡é€»è¾‘
- å®‰å…¨å®¡è®¡
```

---

## åç«¯å¼€å‘ä»»åŠ¡

### ğŸ“¦ 1. é¡¹ç›®åˆå§‹åŒ–

```bash
# æ ¹æ®æ¶æ„é€‰æ‹©åˆå§‹åŒ–
# ç¤ºä¾‹ï¼šNestJS
npx @nestjs/cli new api

# æˆ– Express + TypeScript
mkdir api && cd api
npm init -y
npm install express typescript ts-node @types/express
```

### ğŸ—„ï¸ 2. æ•°æ®åº“å®ç°

æŒ‰ç…§ `docs/DATABASE.md` åˆ›å»ºæ•°æ®åº“ï¼š

```markdown
## æ•°æ®åº“ä»»åŠ¡æ¸…å•

### è¡¨ç»“æ„
- [ ] users è¡¨
- [ ] [å…¶ä»–è¡¨]

### å…³ç³»
- [ ] å¤–é”®çº¦æŸ
- [ ] ç´¢å¼•åˆ›å»º

### è¿ç§»
- [ ] åˆ›å»ºè¿ç§»æ–‡ä»¶
- [ ] æµ‹è¯•è¿ç§»
```

### ğŸ“¡ 3. API å®ç°

æŒ‰ç…§ `docs/API.md` å®ç°æ‰€æœ‰ APIï¼š

```markdown
## API å®ç°æ¸…å•

### è®¤è¯æ¨¡å—
- [ ] POST /api/auth/register
- [ ] POST /api/auth/login
- [ ] POST /api/auth/logout
- [ ] POST /api/auth/refresh

### ç”¨æˆ·æ¨¡å—
- [ ] GET /api/users/me
- [ ] PUT /api/users/me
- [ ] DELETE /api/users/me

### æ ¸å¿ƒä¸šåŠ¡æ¨¡å—
- [ ] [API 1]
- [ ] [API 2]
- [ ] [API 3]
```

### ğŸ” 4. å®‰å…¨å®ç°

```markdown
## å®‰å…¨æ£€æŸ¥æ¸…å•

- [ ] è¾“å…¥éªŒè¯ï¼ˆä½¿ç”¨ class-validator ç­‰ï¼‰
- [ ] SQL æ³¨å…¥é˜²æŠ¤ï¼ˆä½¿ç”¨ ORMï¼‰
- [ ] XSS é˜²æŠ¤
- [ ] CSRF é˜²æŠ¤
- [ ] é€Ÿç‡é™åˆ¶
- [ ] JWT å®ç°
- [ ] å¯†ç å“ˆå¸Œï¼ˆbcryptï¼‰
- [ ] HTTPS é…ç½®
```

### ğŸ”— 5. ç¬¬ä¸‰æ–¹é›†æˆ

```markdown
## é›†æˆæ¸…å•

- [ ] é‚®ä»¶æœåŠ¡
- [ ] æ”¯ä»˜æœåŠ¡ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] å­˜å‚¨æœåŠ¡ï¼ˆS3ç­‰ï¼‰
- [ ] æ—¥å¿—æœåŠ¡
- [ ] ç›‘æ§æœåŠ¡
```

### ğŸ§ª 6. æµ‹è¯•

```markdown
## æµ‹è¯•æ¸…å•

### å•å…ƒæµ‹è¯•
- [ ] æœåŠ¡å±‚æµ‹è¯•
- [ ] å·¥å…·å‡½æ•°æµ‹è¯•

### é›†æˆæµ‹è¯•
- [ ] API ç«¯ç‚¹æµ‹è¯•
- [ ] æ•°æ®åº“æ“ä½œæµ‹è¯•

### è¦†ç›–ç‡ç›®æ ‡
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘: > 80%
- API ç«¯ç‚¹: > 90%
```

---

## åç«¯å®Œæˆæ ‡å‡†

| æ£€æŸ¥é¡¹ | çŠ¶æ€ |
|--------|------|
| æ‰€æœ‰ API å·²å®ç° | â¬œ |
| æ•°æ®åº“ç»“æ„å·²åˆ›å»º | â¬œ |
| è®¤è¯æˆæƒå·²å®ç° | â¬œ |
| å®‰å…¨æªæ–½å·²åˆ°ä½ | â¬œ |
| æ ¸å¿ƒæµ‹è¯•é€šè¿‡ | â¬œ |
| API æ–‡æ¡£æ›´æ–° | â¬œ |

---

## é˜¶æ®µå®Œæˆ

æ›´æ–° `PROJECT_STATE.json`:
```json
{
  "phases": {
    "backend": { "status": "completed", "completedAt": "[timestamp]" },
    "integration": { "status": "in_progress", "completedAt": null }
  },
  "currentPhase": 8
}
```

è¾“å‡ºï¼š
```
âœ… åç«¯é˜¶æ®µå®Œæˆï¼

å·²å®Œæˆï¼š
âœ“ æ•°æ®åº“å®ç°
âœ“ API å®ç°
âœ“ è®¤è¯æˆæƒ
âœ“ å®‰å…¨æªæ–½
âœ“ æµ‹è¯•ç¼–å†™

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ ç ”ç©¶ â†’ âœ“ è§„åˆ’ â†’ âœ“ Gate1 â†’ âœ“ æ¶æ„ â†’ âœ“ åŸå‹ â†’ âœ“ Gate2 â†’ âœ“ åç«¯ â†’ ğŸ”— é›†æˆ â†’ ğŸ“¦ è¾“å‡º
                                                                    â†‘
                                                                  ä¸‹ä¸€æ­¥
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä¸‹ä¸€æ­¥ï¼šè¿è¡Œ /project-optimizer:integration è¿›å…¥é›†æˆé˜¶æ®µ
```
