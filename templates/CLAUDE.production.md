# [项目名称]

> 项目阶段：🚀 运维项目 | 🔴 严格红线保护

## 📊 项目状态

**当前阶段**: 诊断问题 (1/5)
**流程模式**: 🔴 严格模式（只允许修复，禁止改动）

```
🔎 诊断 → 👆 审批 → 🔧 修复 → ✔️ 验证 → 📦 输出
   ↑
 当前
```

## 📋 阶段清单

| 阶段 | 状态 | 命令 |
|------|------|------|
| 1. 诊断问题 | ● 进行中 | `/project-optimizer:diagnose` |
| 2. 审批 | 🔒 锁定 | `/project-optimizer:approve` |
| 3. 修复 | 🔒 锁定 | `/project-optimizer:fix` |
| 4. 验证 | 🔒 锁定 | `/project-optimizer:verify` |
| 5. 输出 | 🔒 锁定 | `/project-optimizer:output` |

---

## 🚨🚨🚨 绝对红线 🚨🚨🚨

**这是正在运行的生产系统，任何修改都可能影响用户！**

### ❌ 绝对禁止（无论任何理由）

1. **禁止修改核心业务逻辑**
   - 支付流程
   - 用户认证
   - 权限控制
   - 数据加密

2. **禁止修改数据库**
   - 不改表结构
   - 不改字段类型
   - 不删除任何数据
   - 不改索引

3. **禁止修改关键配置**
   - 环境变量
   - 第三方服务密钥
   - 部署配置

4. **禁止大范围重构**
   - 不换框架
   - 不换依赖版本
   - 不改文件结构

### ⚠️ 所有修改必须经过审批

没有审批，不允许任何代码修改！

---

## ✅ 允许的操作

### 🟢 可以做（最小化原则）
- 修复明确定位的 Bug（精确到行）
- 添加日志（不影响逻辑）
- 添加监控（不影响性能）
- 更新注释和文档
- 只读操作（查看、分析）

---

## 📁 关键文件（只读）

```
⛔ src/core/           # 核心业务逻辑 - 不要动
⛔ src/auth/           # 认证模块 - 不要动
⛔ src/payment/        # 支付模块 - 不要动
⛔ prisma/schema.prisma # 数据库结构 - 不要动
⛔ .env.production     # 生产环境配置 - 不要动
```

## 🔍 诊断工具

```bash
# 查看日志
tail -f logs/app.log | grep ERROR

# 检查服务状态
systemctl status app

# 查看最近部署
git log --oneline -5

# 检查资源使用
htop / docker stats
```

## 📝 变更记录

### 最近变更
| 变更编号 | 日期 | 类型 | 状态 |
|----------|------|------|------|
| - | - | - | - |

## 📞 紧急联系

- 技术负责人：[联系方式]
- 运维值班：[联系方式]
- 回滚流程：`docs/ROLLBACK.md`

## 🛠 可用命令

```bash
/project-optimizer:status    # 查看当前状态
/project-optimizer:diagnose  # 诊断问题
/project-optimizer:approve   # 提交审批
/project-optimizer:fix       # 执行修复
/project-optimizer:verify    # 验证修复
/project-optimizer:output    # 输出变更报告
```

---

## ⚠️ 每次对话开始时

**请先确认：**
1. 你要做什么操作？
2. 这个操作是否在"允许"范围内？
3. 是否已获得审批？

**如果不确定，请先问用户！**
