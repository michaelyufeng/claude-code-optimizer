# [项目名称]

> 项目阶段：🚀 生产环境 | 🔴 严格红线保护

---

## 🚨🚨🚨 绝对红线 🚨🚨🚨

**这是正在运行的生产系统，任何修改都可能影响用户！**

### ❌ 绝对禁止（无论任何理由）

1. **禁止修改核心业务逻辑**
   - 支付流程
   - 用户认证
   - 权限控制
   - 数据加密

2. **禁止修改数据库**
   - 不改表结构
   - 不改字段类型
   - 不删除任何数据
   - 不改索引

3. **禁止修改关键配置**
   - 环境变量
   - 第三方服务密钥
   - 部署配置

4. **禁止大范围重构**
   - 不换框架
   - 不换依赖版本
   - 不改文件结构

### ⚠️ 需要人工审批

- 任何代码修改
- 任何配置变更
- 任何依赖更新

---

## ✅ 允许的操作

### 🟢 可以做（最小化原则）
- 修复明确定位的 Bug（精确到行）
- 添加日志（不影响逻辑）
- 添加监控（不影响性能）
- 更新注释和文档
- 只读操作（查看、分析）

### 工作流程

```
1. 诊断问题 → 记录问题位置
2. 提出修复方案 → 等待人工审批
3. 审批通过 → 执行最小化修改
4. 验证修复 → 确认无副作用
```

---

## 🔍 诊断工具

```bash
# 查看日志
tail -f logs/app.log | grep ERROR

# 检查服务状态
systemctl status app

# 查看最近部署
git log --oneline -5

# 检查资源使用
htop / docker stats
```

## 📁 关键文件（只读）

```
⛔ src/core/           # 核心业务逻辑 - 不要动
⛔ src/auth/           # 认证模块 - 不要动
⛔ src/payment/        # 支付模块 - 不要动
⛔ prisma/schema.prisma # 数据库结构 - 不要动
⛔ .env.production     # 生产环境配置 - 不要动
```

## 📝 修复记录模板

每次修复必须记录：

```markdown
## 修复记录 - [日期]

### 问题描述
- Issue: #xxx
- 现象：
- 影响范围：

### 根因分析
- 文件：
- 行号：
- 原因：

### 修复方案
- 修改内容：
- 影响评估：

### 审批状态
- [ ] 方案已审批
- [ ] 代码已审查
- [ ] 测试已通过

### 修复验证
- [ ] 问题已解决
- [ ] 无副作用
- [ ] 监控正常
```

---

## 🧪 验证检查清单

修复后必须确认：

- [ ] 核心功能正常（手动测试）
- [ ] 无新错误日志
- [ ] 响应时间正常
- [ ] 内存/CPU 正常
- [ ] 相关测试通过

## 📞 紧急联系

- 技术负责人：[联系方式]
- 运维值班：[联系方式]
- 回滚流程：`docs/ROLLBACK.md`

---

## ⚠️ 每次对话开始时

**请先确认：**
1. 你要做什么操作？
2. 这个操作是否在"允许"范围内？
3. 是否已获得审批？

**如果不确定，请先问用户！**
